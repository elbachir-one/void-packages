# Template file for 'c3c'
pkgname=c3c
version=0.7.3
revision=1
build_style=cmake
_llvmver=19
configure_args="-DCMAKE_PREFIX_PATH=$XBPS_CROSS_BASE/lib/llvm/${_llvmver};$XBPS_CROSS_BASE/usr/lib/"
makedepends="llvm${_llvmver}-devel lld${_llvmver}-devel ncurses-devel libzstd-devel libxml2-devel"
depends="llvm${_llvmver}"
short_desc="Compiler for the C3 language"
maintainer="elbachir-one <bachiralfa@gmail.com>"
license="LGPL-3.0-only AND MIT"
homepage="https://c3-lang.org/"
distfiles="https://github.com/c3lang/c3c/archive/refs/tags/v${version}.tar.gz"
checksum=ffa28a134fb21efd525387f430fbd01b8e3ed6ed08d8614e6561e73d3d63f512

post_install() {
	vman		c3c.1
	vlicense	LICENSE
	vlicense	LICENSE_STDLIB
}
