# Template file for 'grub-customizer'
pkgname=grub-customizer
version=5.2.5
revision=1
build_style=cmake
hostmakedepends="pkg-config"
makedepends="gtkmm-devel openssl-devel libarchive-devel"
depends="hicolor-icon-theme grub-utils polkit xhost"
conf_files="/etc/grub-customizer/grub.cfg"
short_desc="Graphical grub2 settings manager"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-3.0-or-later"
homepage="https://launchpad.net/grub-customizer/"
distfiles="https://launchpad.net/grub-customizer/${version%.*}/${version}/+download/grub-customizer_${version}.tar.gz"
checksum=a0b15150a0df792dd44313b88439fb01a60fdbf123d2558a55606a5d3f62cc63

pre_configure() {
	# Modify desktop file for Void Linux
	vsed -i misc/grub-customizer.desktop \
		-e '/^Categories=/s/Settings/GTK/' \
		-e '/^X-Ubuntu/d' \
		-e '/^X-KDE/d'
}

post_install() {
	vinstall ${FILESDIR}/grub.cfg 644 etc/grub-customizer grub.cfg
	vdoc changelog
}
